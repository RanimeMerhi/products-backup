<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessories for Men</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="mystyle.css">
</head>
<body>
    <div class="header">
        <a href="fashion_beauty.html" class="back-button" id="back-button">← Back</a>

        <a href="https://www.dubizzle.com.lb/">
            <img src="https://cdn.empgroup.com/wp-content/uploads/2023/04/dubizzle-logo-fix-width1.png" alt="Marketplace Logo">
        </a>
    </div>
    <div class="language-toggle">
        <button id="en-button">EN</button>
        <button id="ar-button">AR</button>
    </div>
    <div class="container">
        <h1 id="main-title" class="my-4">Accessories for Men</h1>
        
        <div class="search-box">
            <input type="text" id="search-input" class="form-control" placeholder="Search...">
        </div>
        <div id="products" class="row product-container"></div>
    </div>
    <footer>
        <p>&copy; 2024 Product Listings</p>
    </footer>
    <script type="module">
        import { initializeProductPage } from './langscript.js';

        // Define the categories for this specific page
        const l1Category = 'Fashion & Beauty';
        const l2Category = 'Accessories for Men';

        // Initialize the product page
        initializeProductPage(l1Category, l2Category);

        // Variable to track current language
        let currentLanguage = 'en'; // default language

        // Function to change the language of the H1
        function changeLanguage(language) {
            const titleElement = document.getElementById("main-title");
            if (language === "ar") {
                titleElement.textContent = "اكسسوارات للرجال"; // Arabic translation
            } else {
                titleElement.textContent = "Accessories for Men"; // English text
            }
            currentLanguage = language; // Update the current language
        }

        // Event listeners for language buttons
        document.getElementById("en-button").addEventListener("click", function() {
            changeLanguage("en"); // Switch to English
            updateUrlParameter("lang", "en"); // Update URL parameter
        });
        document.getElementById("ar-button").addEventListener("click", function() {
            changeLanguage("ar"); // Switch to Arabic
            updateUrlParameter("lang", "ar"); // Update URL parameter
        });

        // Function to update the URL parameter without reloading the page
        function updateUrlParameter(param, value) {
            const url = new URL(window.location);
            url.searchParams.set(param, value);
            window.history.replaceState({}, '', url); // Update the URL in the address bar
        }

        // Check if a language is already set and apply it
        const urlParams = new URLSearchParams(window.location.search);
        const langParam = urlParams.get('lang');
        if (langParam) {
            changeLanguage(langParam); // Set the initial language based on URL parameter
        }
    </script>
</body>
</html>
